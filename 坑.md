##### 遇到无数的坑，耗费了青春，磕磕碰碰才解决了，如果不记录下来，下次还是会踩坑，还会浪费时间。原本想写得简洁一点，但是解析现象就有点啰嗦了

* 在docker-compose部署MySQL数据库时，不能加 --privileged=true 参数，启动时老是抛错，导致团队的部署环境MySQL跑不起来，这个锅有点重，背不起

* gradle的docker镜像打包jar包，用root用户登录centos操作系统，然后用官方提供的命令打jar包，发现出错，提示权限不足之类的错误，官方命令是在容器中以gradle用户运行的
```
# 部分抛错信息
org.gradle.internal.service.ServiceCreationException: Could not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().
Caused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type CrossBuildFileHashCache using BuildSessionScopeServices.createCrossBuildFileHashCache().
Caused by: org.gradle.api.UncheckedIOException: Failed to create directory '/home/gradle/project/.gradle/4.8.1/fileHashes'
Caused by: org.gradle.api.UncheckedIOException: java.io.IOException: Permission denied
# 官方命令，由于gradle用户没有权限在当前路径创建 .gradle 目录导致的
docker run --rm -u gradle -v "$PWD":/home/gradle/project -w /home/gradle/project gradle:4.8-jdk-alpine gradle build --stacktrace
# 在官方命令添加 --privileged 也提示没权限
docker run --rm --privileged -u gradle -v "$PWD":/home/gradle/project -w /home/gradle/project gradle:4.8-jdk-alpine gradle build --stacktrace
# docker镜像使用 -u root参数后，打包没问题
docker run --rm -u root -v "$PWD":/home/gradle/project -w /home/gradle/project gradle:4.8-jdk-alpine gradle build -x test --stacktrace
```